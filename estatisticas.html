<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Solicitações por Barbeiro</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
  <style>
    body { background: #222; color: #fff; font-family: Arial, sans-serif; margin: 0; padding: 0; min-height: 100vh; display: flex; flex-direction: column; align-items: center; }
    .container { background: #333; padding: 30px 18px 24px 18px; border-radius: 16px; margin-top: 38px; box-shadow: 0 0 10px #111; width: 420px; max-width: 98vw; text-align: center; }
    h1 { color: #00c853; margin-bottom: 18px; font-size: 1.35em; letter-spacing: 1px; font-weight: bold; }
    #graficoDesempenho, #graficoServicos { background: #fff; border-radius: 8px; padding: 10px; margin-bottom: 18px; max-width: 100%; }
    .voltar-btn { background: #007acc; color: #fff; border: none; border-radius: 5px; padding: 8px 18px; font-size: 1em; margin-bottom: 18px; cursor: pointer; transition: background 0.2s; margin-top: 0; display: block; margin-left: auto; margin-right: auto; }
    .voltar-btn:hover { background: #005fa3; }
    .filtros { margin-bottom: 18px; display: flex; flex-direction: column; gap: 10px; align-items: center; justify-content: center; }
    .filtro-linha { display: flex; align-items: center; gap: 10px; margin-bottom: 0; flex-wrap: wrap; }
    .filtro-linha label { color: #00c853; font-weight: bold; font-size: 1.07em; }
    .filtro-linha select, .filtro-linha input[type="date"], .filtro-linha input[type="month"], .filtro-linha input[type="text"] { padding: 6px 10px; border-radius: 6px; border: none; font-size: 1em; background: #181818; color: #00c853; outline: none; margin-bottom: 2px; border: 1.5px solid #00c853; transition: border 0.2s; width: 135px; box-sizing: border-box; }
    .filtro-linha select:focus, .filtro-linha input[type="date"]:focus, .filtro-linha input[type="month"]:focus, .filtro-linha input[type="text"]:focus { border: 2px solid #00c853; background: #222; }
    .filtro-linha input[type="date"]::-webkit-input-placeholder { color: #00c853; opacity: 0.7; }
    .filtro-linha input[type="date"]::-webkit-calendar-picker-indicator { filter: invert(1) brightness(1.5); }
    #periodoSelecionado { color: #00c853; font-weight: bold; margin-bottom: 4px; font-size: 1em; text-align: center; width: 100%; max-width: 400px; min-height: 20px; }
    #mensagem, #mensagemServicos { color: #ff5252; font-weight: bold; margin-top: 12px; min-height: 24px; }
    hr { margin: 30px 0 18px 0; border: none; border-top: 2px solid #444; }
    @media (max-width: 500px) {
      .container { width: 99vw; padding: 10px 2vw; }
      #graficoDesempenho, #graficoServicos { padding: 2px; }
      .filtros { gap: 7px; }
      .filtro-linha { flex-direction: column; align-items: flex-start; gap: 4px;}
      .filtro-linha select, .filtro-linha input[type="date"], .filtro-linha input[type="month"], .filtro-linha input[type="text"] { width: 100%; }
    }
    .daterangepicker { color: #222; }
    .daterangepicker .calendar-table { background: #fff; color: #222; }
    .daterangepicker td.active, .daterangepicker td.active:hover { background-color: #00c853 !important; color: #fff !important; }
    .daterangepicker .drp-buttons .btn { background: #007acc; color: #fff; border-radius: 5px; border: none; padding: 4px 12px; font-size: 1em; margin: 0 2px; }
  </style>
  <!-- jQuery, moment.js, daterangepicker.js -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Chart.js datalabels plugin -->
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>
</head>
<body>
  <div class="container">
    <button class="voltar-btn" onclick="window.history.back()">
      <i class="fa fa-arrow-left"></i> Voltar
    </button>
    <h1>Solicitações por Barbeiro</h1>
    <div class="filtros">
      <div class="filtro-linha">
        <label for="filtroStatus">Status:</label>
        <select id="filtroStatus">
          <option value="todos">Todos</option>
          <option value="concluido">Concluídas</option>
          <option value="pendente">Pendentes</option>
          <option value="cancelado">Canceladas</option>
        </select>
      </div>
      <div class="filtro-linha" id="filtroBarbeiroLinha">
        <label for="filtroBarbeiro">Barbeiro:</label>
        <select id="filtroBarbeiro">
          <option value="todos">Todos</option>
        </select>
      </div>
      <div class="filtro-linha">
        <label for="filtroData">Período:</label>
        <select id="filtroData">
          <option value="todos">Todos</option>
          <option value="dia" selected>Dia</option>
          <option value="semana">Semana</option>
          <option value="mes">Mês</option>
        </select>
        <span id="campoData"></span>
      </div>
      <div id="periodoSelecionado"></div>
    </div>
    <canvas id="graficoDesempenho" height="220"></canvas>
    <div id="mensagem"></div>

    <hr>
    <div style="margin-bottom: 10px; color:#00c853; font-weight:bold;">Serviços Realizados</div>
    <canvas id="graficoServicos" height="220"></canvas>
    <div id="mensagemServicos"></div>
  </div>
  <script>
    // (TODO O SEU JS AQUI, MAS REMOVA A FUNÇÃO carregarGraficoServicosBarbeiro E SUAS CHAMADAS)
    // Ou seja, retire:
    // - A função carregarGraficoServicosBarbeiro
    // - O canvas e div do gráfico 3 no HTML
    // - A chamada carregarGraficoServicosBarbeiro() da função atualizarTodosGraficos()
    // O restante permanece igual.
  </script>
</body>
</html>
